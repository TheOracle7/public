let current_step,next_step,previous_step,current_index,steps_count,df_form,opacity,progress_bar_style;const current=1;function setFormHeight(){jQuery(".de_fb_form").each(function(){jQuery(this).find("form").hasClass("multistep")&&jQuery(this).find(".divi-form-wrapper").height(jQuery(this).find(".df_form_step.active").outerHeight())})}function handleFormStep(t){jQuery(".empty_module",t).remove();let e=jQuery(".df_form_step",t).last(),r=jQuery(".df_form_step",t).eq(-2).index(),s=jQuery(".divi-form-submit",t),n=s.prop("outerHTML");r>0&&jQuery(".et_contact_bottom_container",t).hide(),e.append('<div class="et_contact_bottom_container in_step" style="display:none;"></div>'),jQuery(".et_contact_bottom_container:not(.in_step)",t).find(".captcha-field").appendTo(e.find(".in_step")),e.append('<div class="step_button_wrapper"><button class="et_pb_button df_step_button df_step_prev" data-step="'+r+'">Prev</button>'+n+"</div>"),s.remove(),jQuery(".df_step_prev").click(function(t){prev_button_handler(t)}),jQuery(".df_form_step",t).each(function(){jQuery(this).find(".step_button_wrapper button").each(function(){jQuery(this).hasClass("df_step_prev")?jQuery(this).html(jQuery(this).closest(".df_form_step").attr("data-prev_text")):jQuery(this).hasClass("df_step_next")&&jQuery(this).html(jQuery(this).closest(".df_form_step").attr("data-next_text"))})}),jQuery(".special_contact_form .divi-form-wrapper .df_form_step").not(":last").each(function(){var t=jQuery(this);t.find("input[type=radio]").click(function(){t.find(".df_step_next").trigger("click")})}),jQuery(document).on("change",".next_on_change input[type=radio], .next_on_change select",function(){jQuery(this).closest(".df_form_step").find(".df_step_next").trigger("click")})}function next_button_handler(t,e){t.preventDefault();var r=jQuery(t.target);if(df_form=r.closest(".fb_form"),next_step=(current_step=r.closest(".df_form_step")).next(),current_index=jQuery(".df_form_step",df_form).index(next_step),steps_count=jQuery(".df_form_step",df_form).length,progress_bar_style=jQuery(".df_progressbar",df_form).data("style"),df_form.attr("data-type",e),r.closest(".fb_form").find(".required, *[required]").length>0){var s=!0;if(current_step.find(".required, *[required]").each(function(){if(jQuery(this).closest(".et_pb_contact_field").parent().find("p.error").remove(),!jQuery(this).closest(".de_fb_form_field").hasClass("condition-hide")){var t=jQuery(this).closest(".et_pb_contact_field").data("type");if(("checkbox"==t||"radio"==t)&&0==jQuery(this).find("input:checked").length?s=!1:("file"==t||"image"==t)&&0==jQuery(this).find(".files .template-upload").length?s=!1:"checkbox"==t||"radio"==t||jQuery(this).val(),!s){var e=jQuery(this).attr("data-required_message")?jQuery(this).attr("data-required_message"):"This field is required.";return"top"==jQuery(this).attr("data-required_position")?jQuery(this).closest(".et_pb_contact_field").before('<p class="error">'+e+"</p>"):jQuery(this).closest(".et_pb_contact_field").after('<p class="error">'+e+"</p>"),jQuery("html, body").animate({scrollTop:jQuery(this).closest(".field_wrapper").offset().top-100},300),!1}}}),!1==s)return!1}var n=!0;if(current_step.find("input, textarea, select").length>0&&(n=current_step.find("input, textarea, select").valid()),!n)return!1;switch(progress_bar_style){case"step":df_form.find(".df_progressbar_step li").removeClass("active").removeClass("prev-active"),df_form.find(".df_progressbar_step li").eq(current_index).addClass("active"),df_form.find(".df_progressbar_step li:lt("+current_index+")").addClass("prev-active");break;case"basic":case"lollipop":let i=parseInt(current_index/(steps_count-1)*100),o=parseInt((current_index-1)/(steps_count-1)*100),f=1;var d=setInterval(function(){let t=o+f;t<=i?(df_form.find(".df_progressbar_active").width(`${t}%`),df_form.find(".df_progressbar_percentage").html(`${t}%`),f++):clearInterval(d)},300/(i-o))}current_step.removeClass("active"),next_step.addClass("active"),steps_count==current_index+1&&jQuery(".et_contact_bottom_container",df_form).show(),df_form.removeAttr("data-type"),jQuery("html, body").animate({scrollTop:jQuery(".de_fb_form").offset().top-150},300),setTimeout(function(){next_step.find(".de_fb_form_field:not(:hidden)").find('input:not([type="hidden"]), textarea, select').eq(0).focus()},100),setFormHeight()}function prev_button_handler(t){t.preventDefault();var e=jQuery(t.target);switch(df_form=e.closest(".fb_form"),previous_step=(current_step=e.closest(".df_form_step")).prev(),current_index=parseInt(jQuery(".df_form_step",df_form).index(previous_step)),steps_count=jQuery(".df_form_step",df_form).length,progress_bar_style=jQuery(".df_progressbar",df_form).data("style")){case"step":df_form.find(".df_progressbar_step li").removeClass("active").removeClass("prev-active"),df_form.find(".df_progressbar_step li").eq(current_index).addClass("active"),df_form.find(".df_progressbar_step li:lt("+current_index+")").addClass("prev-active");break;case"basic":case"lollipop":let r=parseInt(current_index/(steps_count-1)*100),s=parseInt((current_index+1)/(steps_count-1)*100),n=1;var i=setInterval(function(){let t=s-n;t>=r?(df_form.find(".df_progressbar_active").width(`${t}%`),df_form.find(".df_progressbar_percentage").html(`${t}%`),n++):clearInterval(i)},300/(s-r))}steps_count!=current_index+1&&jQuery(".et_contact_bottom_container",df_form).hide(),current_step.removeClass("active"),previous_step.addClass("active"),setFormHeight()}jQuery(document).ready(function(t){jQuery(".de_fb_form .multistep").each(function(){handleFormStep(this)}),jQuery(window).resize(function(){setFormHeight()}).trigger("resize")}),"on"===ms_obj.next_on_enter&&jQuery(document).on("keypress",".fb_form",function(t){"13"==(t.keyCode?t.keyCode:t.which)&&(jQuery(this).find(".df_form_step.active").find(".df_step_next").length>0?jQuery(this).find(".df_form_step.active").find(".df_step_next").trigger("click"):jQuery(this).find(".df_form_step.active").find(".divi-form-submit").trigger("click")),t.stopPropagation()}),jQuery(document).on("click",".df_step_next",function(t){var e=jQuery(t.target).closest(".fb_form").attr("data-type");(void 0===e||"type_b"!==e)&&next_button_handler(t,"type_a")}),jQuery(".df_step_next").click(function(t){var e=jQuery(t.target).closest(".fb_form").attr("data-type");(void 0===e||"type_a"!==e)&&next_button_handler(t,"type_b")}),jQuery(document).on("click",".df_step_prev",function(t){prev_button_handler(t)}),jQuery(".df_step_prev").click(function(t){prev_button_handler(t)});