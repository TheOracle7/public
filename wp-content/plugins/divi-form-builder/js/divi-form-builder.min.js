function de_fb_ajax_files_upload(e){e.find(".file_preview_container .template-upload").length>0&&e.find(".file_preview_container .template-upload .start").trigger("click")}function de_fb_ajax_form_submit(e){jQuery(document).ready(function(t){var a=new FormData(e);a.append("action","de_fb_ajax_submit_ajax_handler");var o=t(e).attr("data-ajax-btn"),r=t(e).attr("data-ajax-hide-sub"),d=t(e).find(".de_fb_ajax_submit").text();let s="true"===t(e).attr("data-reset-form-on-submit");jQuery.ajax({type:"POST",url:de_fb_obj.ajax_url,type:"POST",contentType:!1,cache:!1,processData:!1,data:a,beforeSend:function(){t(".de_fb_ajax_submit").html(o),t(e).find("input, select, textarea, button").prop("disabled","disabled"),t(e).find(".wp-editor-container").each(function(){var e=t(this).find("textarea").attr("id");tinymce.get(e).getBody().setAttribute("contenteditable","false")}),t(e).find(".message_wrapper").remove()},success:function(a){t(e).find("input, select, textarea, button").removeProp("disabled"),t(e).find("input, select, textarea, button").removeAttr("disabled"),t(e).closest(".de_fb_form ").find(".message_wrapper").remove(),t(e).find(".wp-editor-container").each(function(){var e=t(this).find("textarea").attr("id");tinymce.get(e).getBody().setAttribute("contenteditable","true")}),"undefined"!=typeof grecaptcha&&window.___grecaptcha_cfg.count>0&&grecaptcha.reset(),t(".de_fb_ajax_submit").html(d),""!=a.result&&(void 0!==a.redirect&&""!=a.redirect?document.location.href=a.redirect:(""!=a.message&&("before_title"==a.message_position?jQuery(e).before(a.message):"after_title"==a.message_position?jQuery(e).find(".form-title").after(a.message):"before_button"==a.message_position?jQuery(e).find(".et_contact_bottom_container").before(a.message):"after_button"==a.message_position&&jQuery(e).after(a.message)),t(".signature_clear").trigger("click")),"on"==r&&"failed"!=a.result&&(t(e).find(".divi-form-wrapper").hide(),t(e).find(".df_progressbar_container").hide(),t(e).find(".divi-form-submit").hide(),t(e).find(".submit-container").hide(),t(e).find(".bloom_subscribe").hide()),s&&e.reset(),t(e).find(".file_preview_container .template-upload").remove(),t(e).find('.et_pb_contact_field[data-type="file"], .et_pb_contact_field[data-type="image"]').removeAttr("data-uploaded"))}})})}function init_autocomplete_fields(){var e=document.getElementsByClassName("de_fb_autocomplete");if(void 0!==google.maps.places.Autocomplete)for(var t=0;t<e.length;t++){var a=new google.maps.places.Autocomplete(e[t]);a.input_obj=jQuery(e[t]),google.maps.event.addListener(a,"place_changed",function(){var e=a.getPlace();a.input_obj.parent().find(".de_fb_lat").val(e.geometry.location.lat()),a.input_obj.parent().find(".de_fb_lng").val(e.geometry.location.lng())})}}jQuery(document).ready(function(e){function t(){e(".de_fb_form").each(function(t,a){main_count=Number(0),e(this).find(".de_fb_form_field").each(function(t,a){var o=Number(e(this).find(".search_filter_cont").attr("data-count"));isNaN(o)&&(o=0),(main_count+=o)>="100"&&(e(this).addClass("last-item"),main_count=Number(0))})})}e(".dfb_input_icon.input_password").click(function(){console.log("clicked"),e(this).toggleClass("show_password");var t=e(e(this).closest(".et_pb_contact_field").find("input.divi-form-builder-field"));"password"==t.attr("type")?t.attr("type","text"):t.attr("type","password")}),e(".dropzone").on("dragover",function(t){var a=e(this),o=window.dropZoneTimeout;o?clearTimeout(o):(a.addClass("in"),a.closest(".field_wrapper").addClass("drag-over"));var r=e(t.target).closest(a);a.not(r).removeClass("hover"),r.addClass("hover"),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,a.removeClass("in hover"),a.closest(".field_wrapper").removeClass("drag-over")},100)}),e(".de_fb_form form").keydown(function(t){if(!e(t.target).is("textarea")&&13==t.keyCode)return t.preventDefault(),!1}),t();var a=e(".upload_field");function o(){jQuery(".field_wrapper[data-conditional-logic]").each(function(){var e=jQuery(this),t=e.data("conditional-logic"),a=e.data("conditional-relation"),o=!1,r=[];jQuery.each(t,function(e,t){var a=!1,o=jQuery("#"+t[0]+"_wrapper");o.addClass("condition-field");var d=o.find(".et_pb_contact_field").data("type"),s=null,n=t[2],l=""!==n&&!isNaN(n);switch(l&&(n=parseFloat(n)),"checkbox"==d||"radio"==d?(s=[],o.find("input:checked").each(function(){l?s.push(parseFloat(jQuery(this).val())):s.push(jQuery(this).val())})):s=l?parseFloat(jQuery("#"+t[0]).val()):jQuery("#"+t[0]).val(),t[1]){case"is":a=Array.isArray(s)?s.includes(n):s==n;break;case"is not":a=Array.isArray(s)?!s.includes(n):s!=n;break;case"is greater":if(jQuery.isNumeric(n)){if(Array.isArray(s))for(i=0;i<s.size;i++)jQuery.isNumeric(s[i])&&s[i]>n&&(a=!0);else a=jQuery.isNumeric(s)&&s>n}else a=!1;break;case"is less":if(jQuery.isNumeric(n)){if(Array.isArray(s))for(i=0;i<s.size;i++)jQuery.isNumeric(s[i])&&s[i]<n&&(a=!0);else a=jQuery.isNumeric(s)&&s<n}else a=!1;break;case"contains":if(Array.isArray(s))for(i=0;i<s.size;i++)-1!=s[i].indexOf(n)&&(a=!0);else a=-1!=s.indexOf(n);break;case"does not contain":if(Array.isArray(s))for(i=0;i<s.length;i++)-1==s[i].indexOf(n)&&(a=!0);else a=-1==s.indexOf(n);break;case"is empty":a=Array.isArray(s)?0==s.length:""==s;break;case"is not empty":a=Array.isArray(s)?0!=s.length:""!=s}r.push(a)}),"any"==a?r.includes(!0)&&(o=!0):r.includes(!1)||(o=!0),!0==o?(e.closest(".de_fb_form_field").removeClass("condition-hide").show(),e.find("*[required]").removeAttr("disabled"),e.find("input, select, textarea").removeAttr("disabled")):(e.closest(".de_fb_form_field").addClass("condition-hide").hide(),e.find("*[required]").attr("disabled","disabled"),e.find("input, select, textarea").attr("disabled","disabled"))}),jQuery(window).trigger("resize")}e(window).on("dragenter",function(e){e.preventDefault()}),e(a).bind("dragover",function(t){e(this).closest(".field_wrapper").addClass("drag-over")}),e(a).bind("dragleave",function(t){e(this).closest(".field_wrapper").removeClass("drag-over")}),e(".fb_form.hide_until_loaded").each(function(){e(this).parent().find(".form_loading").remove(),e(this).show()}),o(),e(document).on("change",".condition-field input, .condition-field textarea, .condition-field select",function(){o()}),e(document).on("click",".edit_form_modal",function(a){a.preventDefault(),a.stopPropagation();var r=e(this).attr("data-id"),d=e(this).attr("data-modal-layout"),s=e(this).attr("loading_animation_color"),n=e(this).attr("data-modal-style");e("#edit-form-modal-"+r).length>0?(e("#edit-form-modal-"+r).addClass("open"),e("#edit-form-modal-"+r).closest(".dmach-grid-item").addClass("highest-priority"),e("#edit-form-modal-"+r).closest(".et_pb_row").addClass("highest-priority")):e.ajax({url:de_fb_obj.ajax_url,data:{action:"de_fb_get_edit_form_ajax_handler",pid:r,modal_layout:d},type:"POST",dataType:"JSON",success:function(a){e("#de-fb-modal-wrapper-"+r).html('<div id="edit-form-modal-'+r+'" class="de-fb-popup '+n+'"><div class="post-modal-cont"><div class="modal-close"></div>'+a.content+"</div></div>"),t(),""!==s&&e("#loading-modal .line").each(function(t,a){e(this).css("background-color",s)}),e("#edit-form-modal-"+r).addClass("open"),e("#edit-form-modal-"+r).closest(".dmach-grid-item").addClass("highest-priority"),e("#edit-form-modal-"+r).closest(".et_pb_row").addClass("highest-priority"),e("#edit-form-modal-"+r).find("form").show(),e("body").css("overflow","hidden"),o()}})}),e(document).on("touchstart click",".de-fb-popup .modal-close",function(){e(this).closest(".de-fb-popup").removeClass("open"),e(this).closest(".de-fb-popup").closest(".et_pb_row").removeClass("highest-priority"),e(".dmach-grid-item").removeClass("highest-priority"),e("body").css("overflow","auto")}),e(".signature_clear").click(function(){var t=e(this).parent().find("input").attr("id");fb_signature.signature_objs["signaturePad_"+t].clear()}),"undefined"!=typeof de_fb_obj&&void 0!==de_fb_obj.disable_submit_for_required&&"1"==de_fb_obj.disable_submit_for_required&&e(".disable_submit_for_required").each(function(){e(this).on("change",".required, *[required]",function(){let t=e(this).closest(".de_fb_form"),a=t.find(".required"),o=!0,r=t.find(".divi-form-submit");a.length>0&&jQuery.each(a,function(t,a){if(!e(this).closest(".de_fb_form_field").hasClass("condition-hide")){var r=jQuery(this).closest(".et_pb_contact_field").data("type");("checkbox"==r||"radio"==r)&&0==jQuery(this).find("input:checked").length&&(o=!1),("file"==r||"image"==r)&&0==jQuery(this).find(".files .template-upload").length&&(o=!1)}}),!0==o?r.removeAttr("disabled"):r.attr("disabled",!0)}),e(this).find(".required, *[required]").length>0&&e(this).find(".required, *[required]").eq(0).trigger("change")})});